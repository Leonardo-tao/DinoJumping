{"ast":null,"code":"export default {\n  name: 'playGame',\n  data() {\n    return {\n      ctx: null,\n      canvasWidth: 2400,\n      canvasHeight: 100,\n      speed: 1,\n      groundx: 0,\n      images: {\n        start: \"\",\n        jump: \"\",\n        die: \"\",\n        cloud: \"\",\n        left: \"\",\n        right: \"\",\n        cactus: \"\",\n        endTitle: \"\",\n        bird: \"\",\n        ground: \"\",\n        score: []\n      }\n    };\n  },\n  methods: {\n    drawPic(pic, x, y, w, h) {\n      let img = new Image();\n      img.src = require(`@/assets/images/${pic}.png`);\n      img.onload = () => {\n        if (w === undefined) w = img.width;\n        if (h === undefined) h = img.height;\n        if (y === undefined) y = this.canvasHeight - h;\n        if (x === undefined) x = 0;\n        this.ctx.drawImage(img, x, y, w, h);\n      };\n      img.onerror = () => {\n        console.error(`加载图片失败: ${img.src}`);\n      };\n    },\n    updateGroundPosition() {\n      this.groundX -= this.groundSpeed;\n      if (this.groundX <= -this.groundWidth) {\n        this.groundX = 0;\n      }\n      this.groundSpeed += 0.01; // 逐渐加速\n    },\n    animate() {\n      this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n      this.drawPic('ground');\n      this.drawPic('dino_start', '', 40, 52, 52);\n      this.updateGroundPosition();\n      requestAnimationFrame(this.animate);\n    }\n  },\n  mounted() {\n    this.ctx = document.getElementById('canvas').getContext(\"2d\");\n    this.animate();\n  }\n};","map":{"version":3,"names":["name","data","ctx","canvasWidth","canvasHeight","speed","groundx","images","start","jump","die","cloud","left","right","cactus","endTitle","bird","ground","score","methods","drawPic","pic","x","y","w","h","img","Image","src","require","onload","undefined","width","height","drawImage","onerror","console","error","updateGroundPosition","groundX","groundSpeed","groundWidth","animate","clearRect","requestAnimationFrame","mounted","document","getElementById","getContext"],"sources":["E:\\code\\Web\\dino\\src\\components\\game.vue"],"sourcesContent":["<template>\n  <div class=\"game\">\n    <canvas id=\"canvas\" :width=\"canvasWidth\" :height=\"canvasHeight\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'playGame',\n  data() {\n    return {\n      ctx: null,\n      canvasWidth: 2400,\n      canvasHeight: 100,\n      speed:1,\n      groundx: 0,\n      images: {\n        start: \"\",\n        jump: \"\",\n        die: \"\",\n        cloud: \"\",\n        left: \"\",\n        right: \"\",\n        cactus: \"\",\n        endTitle: \"\",\n        bird: \"\",\n        ground: \"\",\n        score: [\n\n        ]\n      }\n    }\n  },\n  methods: {\n    drawPic(pic, x, y, w, h){\n      let img = new Image()\n\n      img.src = require(`@/assets/images/${pic}.png`)\n\n      img.onload = () =>{\n        if (w === undefined) w = img.width\n        if (h === undefined) h = img.height\n        if (y === undefined) y = this.canvasHeight - h\n        if (x === undefined) x = 0\n\n        this.ctx.drawImage(img, x, y, w, h)\n      }\n\n      img.onerror = () => {\n        console.error(`加载图片失败: ${img.src}`);\n      }\n    },\n    updateGroundPosition() {\n      this.groundX -= this.groundSpeed\n\n      if (this.groundX <= -this.groundWidth) {\n        this.groundX = 0\n      }\n\n      this.groundSpeed += 0.01 // 逐渐加速\n    },\n\n    animate() {\n      this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n\n      this.drawPic('ground')\n      this.drawPic('dino_start', '', 40, 52, 52)\n\n      this.updateGroundPosition()\n\n      requestAnimationFrame(this.animate)\n    }\n  },\n  mounted() {\n    this.ctx = document.getElementById('canvas').getContext(\"2d\")\n    this.animate()\n  }\n}\n</script>\n\n<style scoped>\n#canvas {\n  background-color: #000;\n  border: 1px solid #000;\n}\n</style>\n"],"mappings":"AAOA,eAAe;EACbA,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,IAAI;MACTC,WAAW,EAAE,IAAI;MACjBC,YAAY,EAAE,GAAG;MACjBC,KAAK,EAAC,CAAC;MACPC,OAAO,EAAE,CAAC;MACVC,MAAM,EAAE;QACNC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,GAAG,EAAE,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,MAAM,EAAE,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE,EAAE;QACVC,KAAK,EAAE;MAGT;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,OAAOA,CAACC,GAAG,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAC;MACtB,IAAIC,GAAE,GAAI,IAAIC,KAAK,CAAC;MAEpBD,GAAG,CAACE,GAAE,GAAIC,OAAO,CAAC,mBAAmBR,GAAG,MAAM;MAE9CK,GAAG,CAACI,MAAK,GAAI,MAAK;QAChB,IAAIN,CAAA,KAAMO,SAAS,EAAEP,CAAA,GAAIE,GAAG,CAACM,KAAI;QACjC,IAAIP,CAAA,KAAMM,SAAS,EAAEN,CAAA,GAAIC,GAAG,CAACO,MAAK;QAClC,IAAIV,CAAA,KAAMQ,SAAS,EAAER,CAAA,GAAI,IAAI,CAACnB,YAAW,GAAIqB,CAAA;QAC7C,IAAIH,CAAA,KAAMS,SAAS,EAAET,CAAA,GAAI;QAEzB,IAAI,CAACpB,GAAG,CAACgC,SAAS,CAACR,GAAG,EAAEJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC;MACpC;MAEAC,GAAG,CAACS,OAAM,GAAI,MAAM;QAClBC,OAAO,CAACC,KAAK,CAAC,WAAWX,GAAG,CAACE,GAAG,EAAE,CAAC;MACrC;IACF,CAAC;IACDU,oBAAoBA,CAAA,EAAG;MACrB,IAAI,CAACC,OAAM,IAAK,IAAI,CAACC,WAAU;MAE/B,IAAI,IAAI,CAACD,OAAM,IAAK,CAAC,IAAI,CAACE,WAAW,EAAE;QACrC,IAAI,CAACF,OAAM,GAAI;MACjB;MAEA,IAAI,CAACC,WAAU,IAAK,IAAG,EAAE;IAC3B,CAAC;IAEDE,OAAOA,CAAA,EAAG;MACR,IAAI,CAACxC,GAAG,CAACyC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAACxC,WAAW,EAAE,IAAI,CAACC,YAAY,CAAC;MAE7D,IAAI,CAACgB,OAAO,CAAC,QAAQ;MACrB,IAAI,CAACA,OAAO,CAAC,YAAY,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;MAEzC,IAAI,CAACkB,oBAAoB,CAAC;MAE1BM,qBAAqB,CAAC,IAAI,CAACF,OAAO;IACpC;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC3C,GAAE,GAAI4C,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CAACC,UAAU,CAAC,IAAI;IAC5D,IAAI,CAACN,OAAO,CAAC;EACf;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}